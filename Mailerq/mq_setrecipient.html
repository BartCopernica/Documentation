<h1>Function MQ_SetRecipient</h1>
<p>
    If you want to change the recipient address that is associated with a 
    <a href="/documentation/mq_message">MQ_Message</a>,
    you can use this function. This function allows you to store 
    a new recipient address in a message.
</p>
<pre class="language-c"><code class="language-c">
/**
 *  Update the recipient address
 *
 *  @param  message     the message to set the recipient address in
 *  @param  recipient   actual recipient address
 *  @param  size        length of the recipient string
 */
void <a href="/documentation/mq_setrecipient">MQ_SetRecipient</a>(<a href="/documentation/mq_message">MQ_Message</a> *message, const char *recipient, size_t size);
</code></pre>
<p>
    This function has a different behavior if you call it on a message
    <i>that is being received</i> and on a message <i>that is being sent</i>.
    If you call it on a message that is being received, for example
    inside your <a href="/documentation/mq_smtp_in_message">mq_smtp_in_message()</a>
    function, it is simply an alias for setting the "recipient" property
    in the JSON. Changing the recipient address by calling this function,
    will also change the JSON that is going to be published to RabbitMQ.
</p>
<p>
    For outgoing messages however, changing the recipient with this
    function will not modify the JSON data. If your plugin calls this function
    before the "RCPT TO" instruction is sent, the newly set recipient
    address is going to be used in the SMTP protocol, but when the message is published
    back to RabbitMQ (for example to the result queue, or back to the outbox queue
    for a retry) it will still have the original recipient address in 
    the JSON. If you also want to modify the recipient address in the JSON data,
    you should use the <a href="/documentation/mq_json">MQ_Json()</a> function
    as well.
</p>
