<h1>Function mq_smtp_in_message</h1>
<p>
    MailerQ calls this plugin function for every message that is received
    on the SMTP port. If you want to write a plugin that processes or
    modifies such messages, you can do so by implementing this function.
</p>
<p>
    Your plugin may modify the JSON data in the <a href="/documentation/mq_message">
    MQ_Message</a>. After all the plugins are ready with processing
    (and optionally modifying) the message, MailerQ will publish the JSON 
    data to the RabbitMQ inbox queue.
</p>
<p>
    Note that the SMTP protocol allows one to use multiple "RCPT TO" instructions
    to send a single MIME message to multiple addressees. If this is
    being used, the <a href="/documentation/mq_smtp_in_message">
    mq_smtp_in_message()</a> function will also be called multiple times,
    <i>once for every addressee</i>.
</p>
<pre class="language-c"><code class="language-c">
bool mq_smtp_in_message(<a href="/documentation/mq_context">MQ_Context</a> *context, <a href="/documentation/mq_smtpconnection">MQ_SmtpConnection</a> *connection, <a href="/documentation/mq_message">MQ_Message</a> *message);
</code></pre>
<p>
    If your plugin returns true, MailerQ hands over control to your plugin,
    and you should also hand control back. For more information on how MailerQ 
    plugins can interact with the event
    loop, and how control is passed to and from plugins, see 
    <a href="/documentation/eventloop">the article about the MailerQ event loop</a>.
</p>
