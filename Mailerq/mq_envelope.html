<h1>Function MQ_Envelope</h1>
<p>
    If you want to retrieve the envelope from a <a href="/documentation/mq_message">MQ_Message</a>,
    you can use this function for it. It returns a NULL terminated string,
    or simply NULL if no envelope has been set.
</p>
<pre class="language-c"><code class="language-c">
/**
 *  Retrieve the envelope address
 *
 *  @param  message the message to retrieve the envelope address from
 *  @return         the recipient
 */
const char *<a href="/documentation/mq_envelope">MQ_Envelope</a>(<a href="/documentation/mq_message">MQ_Message</a> *message);
</code></pre>
<p>
    This function has a different behavior if you call it on a message
    <i>that is being received</i> and on a message <i>that is being sent</i>.
    If you call it on a message that is being received, for example
    inside your <a href="/documentation/mq_smtp_in_message">mq_smtp_in_message()</a>
    function, it is simply an alias for retrieving the "envelope" property
    from the JSON.
</p>
<p>
    For outgoing messages however, the envelope set in the JSON and the
    envelope that is returned by this function may be different. This
    function returns the envelope that is actually being used in the SMTP
    protocol for the "MAIL FROM" instruction, and could be different than the 
    one that was originally loaded from RabbitMQ (for example, when a plugin 
    modified the envelope in the mean time).
</p>
<p>
    For more info, see the documentation about 
    <a href="/documentation/mq_setenvelope">MQ_SetEnvelope</a>.
</p>
    
